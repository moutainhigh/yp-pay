微信支付

一、普通商户版
商户在微信和支付宝有自己的公众号或者服务号，开通了对应的支付产品。
然后只需要在平台配置对应的APPID,商户号，APPSECRET,APIKEY等信息，对接接口即可快速接入支付宝微信支付。
    A:
    1、付款码支付：用户展示付款码界面，商户通过扫码枪完成扫码支付
    2、JSAPI支付（公众号支付）：用户通过微信扫描商户二维码或者关注公众号，进入微信商户的H5页面，通过调用JSSDK完成支付
    3、Native支付（用户扫码支付）：通过调用微信接口返回二维码信息，用户扫码该二维码唤起微信支付界面，输入密码完成支付。
    4、APP支付：商户APP中集成微信SDK，用户点击支付完成跳转微信支付。
        注：JSAPI支付（公众号支付）、Native支付（用户扫码支付）、APP支付底层调用微信统一支付接口
    5、H5支付：在微信以外的手机浏览器上请求微信支付场景
    6、小程序支付：用户在微信小程序中使用微信支付场景
    7、人脸支付：无需掏出手机，刷脸完成支付，适用于线下各种场景
适用于普通商户的一般支付，即用户直接将资金支付到商户账户中，商户账户在一定时间后进行提现。
商户费率和提现时间限制参考：https://kf.qq.com/faq/190610vmIfei190610AfMzii.html

B：
1、普通直连分账：直连商户分账主要用于商户将交易成功的资金，按照一定的周期，分账给其他方，可以是合作伙伴、员工、用户或者其他分润方。
    说明：
    （1）实际分账时，服务商传入具体的分账接收方和分账金额进行订单分账。分账接口分为单次分账接口和多次分账接口。一笔订单最多可以分20次，每一次可以分给50方。
    （2）分账是在微信体系内进行的，分账接收方的账户可以是商户微信账户或个人零钱账户。
    （3）为保护商户资金安全，开通此功能时，商户号超管需配置允许订单分账的最大比例，实际分账金额必须小于（订单金额-手续费）*允许分账的最大比例

    分账开发步骤：
    （1）商户发起添加分账接收方请求（添加分账接收方API）
    （2）在统一下单API、付款码支付API、委托扣款API中上传新增参数profit_sharing，请求支付
    （3）支付完成后，调用请求分账接口，完成分账
    在JSAPI支付、付款码支付、Native支付、APP支付、H5支付、小程序支付、代扣下单接口需要增加新的入参profit_sharing（Y分账，N不分账，默认不分账,Y大写）
注：带分账的支付和普通支付的区别在于分账支付会冻结资金，然后可以进行分账，如果超过冻结时间，则直接将商户账户上的钱进行解冻，并且后续无法对该笔资金进行分账
分账回退问题，分账回退是从商户账户余额中——>退回给客户，收账方——>退回给商户账户

分账方（商户）：交易收款方，这里指直连商户本身
分账接收方：接收资金的一方，可以是商户，可以是个人


二、服务商版